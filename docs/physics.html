<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head><title>Fluxus manual v0.8</title><link rel="stylesheet" href="fluxusdoc.css"></head><body>
<hdr><a href="index.html">Fluxus manual</a> v0.8 : (C) 2005 Dave Griffiths : dave at pawfal dot org : <a href="http://www.pawfal.org">www.pawfal.org</a></hdr>

<h1>13.0  Physics</h1>

The physics system used in fluxus is based on the ode library, which allows you
to add physical properties to objects and set them in motion. Since ODE is
designed for rigid-body simulations, structures are described in terms of
objects, joints and forces.

A much more comprehensive explanation of these concepts can be found in the ODE
documentation, which you have probably downloaded if you have compiled fluxus,
or can be found at <a href="http://ode.org/ode-docs.html">http://ode.org/ode-docs.html</a> 

To help with debugging joints, try using (show-axis 1), which will render locators showing
you positions and axes of joints that have positional information.

<c>(collisions 0|1)</c>

enables or disables collision detection. this is the cause of great slowness 
when doing physical particle systems, and also the cause of instability in the 
low level physics library. defaults to off.

<c>(gravity gravvec)</c>

sets the strength and direction of gravity.


<c>(surface-params slip1 slip2 softerp softcfm)</c>

sets some global surface attributes that affect friction and bouncyness. see
section 7.3.7 of the ODE docs for an explanation of these parameters 


<c>(active-box object)</c>
<c>(active-sphere object)</c>
<c>(active-cylinder object)</c> 

enable the object to be acted upon by the physics system, using a box, sphere or
cylinder as the bounding volume. as an active object, it will be transformed by
ode. note: rotations only work correctly if you specify your transforms
scale first, then rotate (translate doesn't matter) basically, ode can't
deal with shearing transforms. 

<c>(passive-box object)</c>
<c>(passive-sphere object)</c>
<c>(passive-cylinder object)</c>

enable the object to be acted upon by the physics system, using a box, sphere or
cylinder as the bounding volume. as a passive object, active objects will
collide with it, but it will not be transformed. note: rotations only work correctly 
if you specify your transforms scale first, then rotate (translate doesn't matter) 
basically, ode can't deal with shearing transforms. 

<c>(set-mass object mass)</c>

sets the mass of an active object


<c>(ground-plane planevec planeoffset)</c>

create an infinite passive plane for use as the 'ground'

<c>(build-fixedjoint object)</c>
<c>(build-hingejoint object1 object2 anchorvec hingevec)</c>
<c>(build-hinge2joint object1 object2 anchorvec hinge1vec hinge2vec)</c>
<c>(build-sliderjoint object1 object2 hingevec)</c>
<c>(build-balljoint object1 object2 anchorvec)</c>
<c>(build-amotorjoint axisvec)</c>

These functions will create joints to connect two objects (see the ode docs for
a detailed description of the differences between the joint types). ode
considers joints to be a constraint that is enforced between two objects. when
creating a joint, it is important to have the two primitives being joined in the
desired positions before creating the joint. joints can be created, modified and
indexed in a similar way to other primitives. The fixed joint attaches a object to
the static environment.


<c>(joint-param joint param value)</c>

sets the joint parameter for a joint where <c>param</c> is one of the following:
"HiStop", "Vel", "FMax", "FudgeFactor", "Bounce", "CFM", "StopERP", "StopCFM",
"SuspensionERP", "SuspensionCFM", "Vel2", "FMax2". see section 7.5.1 of the ODE
docs for an explanation of each of these parameters, and which joint
types they apply to.


<c>(joint-angle joint velocity angle)</c>

set the angle of the joint, with a given velocity {?}


<c>(kick object kickvec)</c>

applies translation force <c>kickvec</c> to the object


<c>(twist object twistvec)</c>

applies rotational force <c>twistvec</c> to the object

	
<c>(set-max-physical num)</c>

sets the maximum number of objects the physics system can deal with. when the 
max level has been reached the oldest objects are destroyed.


<c>(has-collided id)</c>                      

returns true if the grabbed object collided in the last frame

</body>
</html>
